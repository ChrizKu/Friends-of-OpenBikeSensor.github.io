<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Setup Development Environment - OpenBikeSensor - Documetation</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Setup Development Environment | OpenBikeSensor - Documetation</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="Setup Development Environment" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/software/firmware/setup.html" /> <meta property="og:url" content="http://localhost:4000/software/firmware/setup.html" /> <meta property="og:site_name" content="OpenBikeSensor - Documetation" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/data/Logo_400x400.jpg"}},"@type":"WebPage","url":"http://localhost:4000/software/firmware/setup.html","headline":"Setup Development Environment","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/getting_started/getting_started.html" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/getting_started/usage.html" class="nav-list-link">Usage</a></li><li class="nav-list-item "><a href="http://localhost:4000/getting_started/development.html" class="nav-list-link">Development</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/software/software.html" class="nav-list-link">Software</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/software/firmware/firmware.html" class="nav-list-link">Firmware</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/software/firmware/architecture.html" class="nav-list-link">Architecture</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/software/firmware/coding_guidelines.html" class="nav-list-link">Coding Guidelines</a> </li><li class="nav-list-item active"> <a href="http://localhost:4000/software/firmware/setup.html" class="nav-list-link active">Setup Development Environment</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/software/visualization/" class="nav-list-link">Visualization</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/software/visualization/todo.html" class="nav-list-link">Todo</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/software/api/api.html" class="nav-list-link">API</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/software/api/todo.html" class="nav-list-link">Todo</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/software/app/app.html" class="nav-list-link">App</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/software/app/todo.html" class="nav-list-link">Todo</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/hardware/hardware.html" class="nav-list-link">Hardware</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/hardware/case/case.html" class="nav-list-link">Case</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/hardware/case/todo.html" class="nav-list-link">Todo</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/hardware/pcb_board/pbc_board.html" class="nav-list-link">PCB Board</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/hardware/pcb_board/todo.html" class="nav-list-link">Todo</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search OpenBikeSensor - Documetation" aria-label="Search OpenBikeSensor - Documetation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/Friends-of-OpenBikeSensor" class="site-button" target="_blank" rel="noopener noreferrer" > GitHub </a> </li> <li class="aux-nav-list-item"> <a href="//twitter.com/openbikesensor?lang=de" class="site-button" target="_blank" rel="noopener noreferrer" > Twitter </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/software/software.html">Software</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/software/firmware/firmware.html">Firmware</a></li> <li class="breadcrumb-nav-list-item"><span>Setup Development Environment</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="setup-development-environment"> <a href="#setup-development-environment" aria-labelledby="setup-development-environment" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setup Development Environment </h1> <h2 id="vscode"> <a href="#vscode" aria-labelledby="vscode" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="https://code.visualstudio.com/">VSCode</a> </h2> <p><a name="vscode"></a></p> <ol> <li>Download and install <a href="https://code.visualstudio.com/">Visual Studio Code</a>.</li> <li>Open the <code class="language-plaintext highlighter-rouge">open-bike-sensor.code-workspace</code> in the project root.</li> <li>Install the recommended extensions (this might take a while, because <a href="">Platform.io</a> gets installed) and restart VSCode when required.</li> <li>Linux only: Install <code class="language-plaintext highlighter-rouge">platformio-udev.rules</code> by <a href="https://docs.platformio.org/en/latest/faq.html#platformio-udev-rules">following this guide</a>.</li> <li>Compile the code (Sidebar: <code class="language-plaintext highlighter-rouge">👽 &gt; Build</code>; Bottom bar: <code class="language-plaintext highlighter-rouge">✅</code>)</li> <li>Connect your ESP and upload the code (Sidebar: <code class="language-plaintext highlighter-rouge">👽 &gt; Upload</code>; Bottom bar: ➡️)</li> </ol> <p>Alternatively you can also download the dependencies yourself and install it with the Arduino IDE (see below).</p> <h3 id="troubleshooting"> <a href="#troubleshooting" aria-labelledby="troubleshooting" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting </h3> <ul> <li> <p><strong>Can’t upload to device</strong> You can specify the device port that VS Code should upload to. Duplicate the <code class="language-plaintext highlighter-rouge">custom_config.ini.example</code> file to <code class="language-plaintext highlighter-rouge">custom_config.ini</code> and set the <code class="language-plaintext highlighter-rouge">upload_port</code> there manually. If this option is not set, the upload port will be autodetected which can fail on some systems or might select the wrong device if other devices are plugged in.</p> </li> <li> <p><strong>Compiling the code fails</strong> Use the <code class="language-plaintext highlighter-rouge">Clean</code> command and delete the <code class="language-plaintext highlighter-rouge">.pio</code> directory. Compiling the code again should work now. If any errors persist, please create a new issue!</p> </li> </ul> <h2 id="clion"> <a href="#clion" aria-labelledby="clion" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="https://www.jetbrains.com/de-de/clion/">CLion</a> </h2> <p><a name="clion"></a></p> <ol> <li>Install <a href="https://docs.platformio.org/en/latest/core/installation.html#installation-methods">PlatformIO Core (CLI)</a>.</li> <li>Download and open <a href="https://www.jetbrains.com/de-de/clion/">CLion</a>.</li> <li>Install the <a href="https://plugins.jetbrains.com/plugin/13922-platformio-for-clion">PlatformIO for CLion plugin</a>. Open <code class="language-plaintext highlighter-rouge">Configure &gt; Plugins</code> in the welcome screen (alternatively <code class="language-plaintext highlighter-rouge">Plugins</code> in the preferences) and search for “PlatformIO” in the <code class="language-plaintext highlighter-rouge">Marketplace</code> tab.</li> <li>Restart CLion.</li> <li>Open the project folder with<code class="language-plaintext highlighter-rouge">Open or Import</code> in the welcome screen (alternatively <code class="language-plaintext highlighter-rouge">File &gt; Open ...</code> using the menu bar)</li> <li>A popup “Create CMakeLists.txt?” will appear. Select “yes”.</li> <li>Open the CLion preferences and navigate to <code class="language-plaintext highlighter-rouge">Build, Execution, Deployment &gt; CMake</code>. Delete the <code class="language-plaintext highlighter-rouge">Debug</code> profile and add a new profile. This new profile should automatically have the name <code class="language-plaintext highlighter-rouge">esp32dev</code>. Apply these changes and close the preferences.</li> <li>Select the configuration <code class="language-plaintext highlighter-rouge">PlatformIO Build &amp; Upload | esp32dev</code> in the top bar.</li> <li>Use the <code class="language-plaintext highlighter-rouge">🔨 Build</code> button to compile the code.</li> <li>Connect your ESP and use the <code class="language-plaintext highlighter-rouge">▶ Run</code> button to compile and upload the code. To upload without re-compiling the code, switch to the configuration <code class="language-plaintext highlighter-rouge">PlatformIO Only Upload | esp32dev</code> in the top bar.</li> </ol> <h3 id="troubleshooting-1"> <a href="#troubleshooting-1" aria-labelledby="troubleshooting-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting </h3> <ul> <li> <p><strong>Can’t upload to device</strong> You can specify the device port that CLion should upload to. Duplicate the <code class="language-plaintext highlighter-rouge">custom_config.ini.example</code> file to <code class="language-plaintext highlighter-rouge">custom_config.ini</code> and set the <code class="language-plaintext highlighter-rouge">upload_port</code> there manually. If this option is not set, the upload port will be autodetected which can fail on some systems or might select the wrong device if other devices are plugged in.</p> </li> <li> <p><strong>Compiling the code fails</strong> In the menu bar run/click <code class="language-plaintext highlighter-rouge">Tools &gt; PlatformIO &gt; Re-Init</code> and then try to compile the code again. If this didn’t fix it delete the directories <code class="language-plaintext highlighter-rouge">.pio</code> and <code class="language-plaintext highlighter-rouge">cmake-build-*</code>. Compiling the code again should work now. If any errors persist, please create a new issue!</p> </li> </ul> <h2 id="arduino-ide"> <a href="#arduino-ide" aria-labelledby="arduino-ide" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Arduino IDE </h2> <p><a name="arduino"></a></p> <ul> <li>Install board</li> <li>Install dependencies</li> <li>Open <code class="language-plaintext highlighter-rouge">OpenBikeSensorFirmware.ino</code> in Arduino IDE</li> <li>Compile and upload to ESP32</li> <li>Connect sensor</li> </ul> <p>There are detailed description for <a href="/docs/guides/02_setup_legacy/Ubuntu.md">Ubuntu</a> and <a href="/docs/guides/02_setup_legacy/ArchLinux.md">ArchLinux</a>.</p> <h3 id="dependencies"> <a href="#dependencies" aria-labelledby="dependencies" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dependencies </h3> <p>Board:</p> <ul> <li><a href="https://github.com/espressif/arduino-esp32">ESP32 by Espressif</a></li> </ul> <p>Libraries:</p> <ul> <li><a href="https://github.com/bblanchon/ArduinoJson">ArduinoJson by Benoit Blanchon</a></li> <li><a href="https://github.com/rlogiacco/CircularBuffer">CircularBuffer by AgileWare</a></li> <li><a href="https://github.com/mikalhart/TinyGPSPlus">TinyGPSPlus by Mikal Hart</a></li> <li><a href="https://github.com/ThingPulse/esp8266-oled-ssd1306">SSD1306 by ThingPulse</a></li> </ul> <hr> <footer> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
